---
import BaseLayout from "@frontend/src/layouts/BaseLayout.astro";
import { apiClient } from "@frontend/src/utils/eden";
import { ArrowBigRightIcon, ArrowRightIcon } from "lucide-react";
export const prerender = false;

const accessToken = Astro.cookies.get("x-token")?.value;

if (!accessToken) {
  return {
    status: 302,
    headers: {
      location: "/login",
    },
  };
}
const { id } = Astro.params;

const { data: spTicketById } = await apiClient.api.sp_tickets[":id"].get({
  $headers: {
    Authorization: `Bearer ${accessToken}`,
  },
});
---

<BaseLayout>
  <div class="flex flex-col-2 justify-around">
    <!-- Comment card -->
    <div
      class="flex flex-col bg-white border shadow-sm rounded-xl dark:bg-slate-900 dark:border-gray-700 dark:shadow-slate-700/[.7]"
    >
      <div
        class="bg-gray-100 border-b rounded-t-xl py-3 px-4 md:py-4 md:px-5 dark:bg-slate-900 dark:border-gray-700"
      >
        <p class="mt-1 text-sm text-gray-500 dark:text-gray-500">Featured</p>
      </div>
      <div class="p-4 md:p-5">
        <h3 class="text-lg font-bold text-gray-800 dark:text-white">
          Card title
        </h3>
        <p class="mt-2 text-gray-500 dark:text-gray-400">
          With supporting text below as a natural lead-in to additional content.
        </p>
        <a
          class="mt-3 inline-flex items-center gap-x-1 text-sm font-semibold rounded-lg border border-transparent text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:pointer-events-none dark:text-blue-500 dark:hover:text-blue-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
          href="#"
        >
          Card link
          <svg
            class="flex-shrink-0 w-4 h-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg
          >
        </a>
      </div>
    </div>
    <!-- Timeline -->
    <div>
      <!-- Item -->
      <div class="flex gap-x-3">
        <!-- Left Content -->
        <div class="text-end">
          <span class="text-xs text-gray-500 dark:text-gray-400">12:05</span>
          <span class="text-xs text-gray-500 dark:text-gray-400">/</span>
          <span class="text-xs text-gray-500 dark:text-gray-400"
            >20 Jan. 24y</span
          >
        </div>
        <!-- End Left Content -->

        <!-- Icon -->
        <div
          class="relative last:after:hidden after:absolute after:top-7 after:bottom-0 after:start-3.5 after:w-px after:-translate-x-[0.5px] after:bg-gray-200 dark:after:bg-gray-700"
        >
          <div class="relative z-10 w-7 h-7 flex justify-center items-center">
            <div class="w-2 h-2 rounded-full bg-gray-400 dark:bg-gray-600">
            </div>
          </div>
        </div>
        <!-- End Icon -->

        <!-- Right Content -->
        <div class="grow pt-0.5 pb-8">
          <h3
            class="flex gap-x-1.5 font-semibold text-gray-800 dark:text-white"
          >
            <svg
              class="flex-shrink-0 w-4 h-4 mt-1"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              ><path
                d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"
              ></path><polyline points="14 2 14 8 20 8"></polyline><line
                x1="16"
                x2="8"
                y1="13"
                y2="13"></line><line x1="16" x2="8" y1="17" y2="17"></line><line
                x1="10"
                x2="8"
                y1="9"
                y2="9"></line></svg
            >
            Created "Preline in React" task
          </h3>
          <div class="mt-1 text-sm text-gray-600 dark:text-gray-400 flex">
            <span
              class="inline-flex items-center gap-x-1.5 py-1.5 px-3 rounded-full text-xs font-medium bg-gray-50 text-gray-500 dark:bg-white/[.05] dark:text-white"
              >status of something</span
            >
            <ArrowBigRightIcon />
            <span
              class="inline-flex items-center gap-x-1.5 py-1.5 px-3 rounded-full text-xs font-medium bg-gray-50 text-gray-500 dark:bg-white/[.05] dark:text-white"
              >status of something</span
            >
          </div>
        </div>
        <!-- End Right Content -->
      </div>
      <!-- End Item -->
    </div>
  </div>
</BaseLayout>
